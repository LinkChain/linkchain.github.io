---
title: 使用Flask框架搭建大模型API key管理平台
date: 2024-7-5 00:00:00 +0800
categories: [AIGC, OpenAI]
tags: [chatgpt]
---

# 搭建背景
目前大模型众多，并且很多模型提供了多种付费模式。比如，ChatGPT和Claude都提供了20美元包月的价格，同时也开放API进行按量收费。笔者在此建议各位根据以下情况进行选择：
1. 经常使用，并且经常被使用次数限制（如超过GPT-4的3小时50条限制），使用20美元包月最划算；
2. 经常使用，但使用次数达不到限制，同时没有太多代码能力，建议找个搭子合伙开20美元包月最划算；
3. 经常使用，但使用次数达不到限制或者经常被限制，同时也有一定代码能力，建议使用API并套用ChatGPT自己进行部署的方式最划算。

如果是使用20美元包月，最简单的办法就是注册美区苹果账户并下载ChatGPT APP同时开包月即可。

如果是使用API，使用官方API最为简单，但最头疼的是官方API严格封禁了国内开发者，并且支付方式只支持信用卡支付。因此，大部分开发者都会使用云服务商提供的API，比如Azure提供的OpenAI，AWS提供的Claude。

使用API最令人头疼的问题莫过于管理密钥。一旦丢失，损失几乎无上限。所以，需要定时刷新密钥，防止密钥丢失造成的损失，同时也需要时刻掌握消耗情况等。Azure官方网站的实际体验并不是很好，这就是笔者希望做的工具：能够在Azure和AWS提供的API接口上包一层，能够在自动化管理的同时，记录各种关键信息等。

# 工具设计

工具使用Flask框架，使用SQLite和JSON管理信息。