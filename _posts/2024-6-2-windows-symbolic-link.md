---
title: Windows系统配置软链接--解决无法变更软件配置文件路径时的好办法
date: 2024-6-2 00:00:00 +0800
categories: [Tips, System]
tags: [tips]
---

## 背景

笔者在从vega 64显卡更换为7900GRE显卡时，发现A卡的amd radeon software只要涉及到配置路径的选项，一点击即闪退（如下GIF），笔者多方查找资料也未能解决，原因可能是笔者更换显卡后未使用ddu工具清理驱动，有网友表示重装系统后未恢复正常，但是重装系统的成本过于高昂了，而且笔者的C盘比较小，更换目录也是必须，所以需要另辟蹊径，这时候笔者想起来工作中经常使用到软链接的功能可以拿来用。

![GIF](/assets/image/2024/6/20240602014900.gif)

## 什么是软链接

首先笔者先解释下软链接和作用，因为很多人也是第一次听说这个名字。

软链接（也称为符号链接）是一种文件系统中的特殊类型的文件入口，它提供了对另一个文件或目录的引用。

软链接的主要特点和功能如下：

1. 路径指向：软链接包含了目标文件或目录的路径。当访问软链接时，操作系统会自动将访问重定向到这个路径所指向的实际位置。

2. 透明性：对于大多数应用程序和系统操作来说，软链接对目标的引用是透明的。这意味着，当程序通过软链接访问文件或目录时，它们“看到”的是目标内容而不是链接本身。

3. 不占用实际空间：软链接本身几乎不占用存储空间，它只保存了目标路径的信息。

4. 灵活性：软链接可以跨文件系统创建，也就是说，链接和目标文件可以位于不同的硬盘或分区上。

5. 权限要求：在某些操作系统（如Windows）中，创建软链接可能需要管理员权限。

6. 易于管理：软链接可以轻松创建和删除，对于组织和管理文件提供了高度的灵活性。

7. 用途：软链接常用于创建对同一数据的多个引用点，便于数据管理，或者在不同位置需要使用同一文件时，无需复制文件，只需创建一个指向原文件的软链接即可。

笔者这里就是用到了软链接最重要的一个功能，路径指向。并且由于软链接之后，是操作系统级别的指向，所以配置后软件是无法感知到的。

## 如何配置

这里以笔者希望配置的amd radeon software中媒体保存位置举例配置下软链接。

![截图](/assets/image/2024/6/20240603015601.png)

首先软件的默认位置是在

```
C:\Users\mawen\Videos\Radeon ReLive
```

而笔者希望保存在

```
D:\Radeon ReLive\
```

笔者首先需要将C盘软件默认路径的文件夹Radeon ReLive剪贴到D盘目录下，也就是需要删除C:\Users\mawen\Videos\Radeon ReLive，并且在D盘有D:\Radeon ReLive\

然后在cmd的管理员模式下执行如下的命令行命令：

```
mklink /D "C:\Users\mawen\Videos\Radeon ReLive" "D:\Radeon ReLive"
```

返回正确，并且进入C:\Users\mawen\Videos\Radeon ReLive会自动跳转到D:\Radeon ReLive即可说明软链接成功

## 最后

有读者可能有疑问，为什么不可以直接设置快捷方式，原因是软链接是系统级别的，在软件眼中它访问的仍然是C盘目录，但是实际上Windows将该文件放在了D盘，而快捷方式实际上是Windows自己用的，很多软件都无法识别，所以无比注意不要贪图方便，将快捷方式和软链接划等号，大部分软件是不认Windows的.ink文件的。

另外笔者这里的问题，实际上也可以直接修改注册表解决，笔者这里是可以有关键词的，比如这个Radeon ReLive是amd显卡软件专用的存储录像的文件夹，直接作为关键字在注册表中搜索即可找到该配置，右键编辑到自己希望的路径即可：

![截图](/assets/image/2024/6/20240603021225.png)

另外建议读者可以就此扩展下mklink的配置选项，比如上述软链接命令中/D参数，对应mklink有三种选项

1. /d：建立目录的符号链接符号链接(symbolic link)

2. /j：建立目录的软链接（联接）(junction)

3. /h：建立文件的硬链接(hard link)

这里最常用的/d创建软链接，而/j区别于/d的绝对路径可以使用相对路径，笔者这里建议大家还是使用绝对路径保证正确性最好

而/h是区别于软链接的硬链接，该链接方式会同步进行修改两个链接的文件或文件夹，也就是会同时存储两份相互影响的文件夹，但是量子纠缠。